!function(){"use strict";function l(e){return h.getElementById(e)}function k(e){var t,a,n,o=["push","unshift","pop","shift","splice","sort","reverse","concat"],r=[];return f||(n=Array.prototype,f={},t=!0),o.forEach(function(i){t&&(f[i]=n[i]),r[i]=function(){var e=this,t=arguments,n=f[i].apply(e,t);if("concat"!==i)return a&&a(i,t),n;for(var o=e.length,t=o,r=n.length;o<r;)e[o]=n[o],o++;return a&&a(i,[t,r]),e},A(r,i,{enumerable:!1,writable:!1,configurable:!1})}),o=null,r.zdy=function(e){a=e,delete r.zdy},A(r,"zdy",{enumerable:!1}),r.concat(e),r}function C(e){var t;!e||(t=e.parentNode)&&t.removeChild(e)}function I(e){var t=typeof e;return null==e?1:e instanceof HTMLElement?0:"string"==t?1:"boolean"==t?2:"number"==t?e!=e?1:3:e instanceof Array||e.push&&e.push instanceof Function?4:"object"!=t||e.toString?"[object Object]"===e.toString()?5:1:0}function D(e,t){for(var n,o,r=0,i=t,a={$_parent:!0,$_p:!0,$_P:!0},l=e.split("."),s=l.length;r<s;){if(a[n=l[r]]?(i=(i=(o=i).$_parent)||o,o.$_dom&&(i=o)):((o=i[n])||(i[n]=o=1<s&&r!==s-1?{$_parent:i}:[]),i=o),r===s-1)return 4!==I(i)?(console.error("未知的数据位置    "+e),!1):i;r++}}function s(e,t){var n,o,r;if(void 0===t)if(4===(r=I(e)))t=[];else{if(5!==r)return e;t={}}for(n in e)o=e[n],5===(r=I(o))?(t[n]={},s(o,t[n])):4===r?(t[n]=[],s(o,t[n])):0!==r&&(t[n]=o);return t}function c(e,t,n){var o,r,i,a=e.childNodes,l=0,s=a.length,d=e.nodeName,f=e.attributes;if(0===s&&""===(o=e.textContent)&&(o=void 0),e=t.indexOf(e),n.name=d,n.attr=f||[],n.txt=o,n.index=e,0<s)for(n.children=[];l<s;)r=a[l],n.children[l]=i={},c(r,t,i),l++}function b(e,t){var n,o,r;for(r in void 0===t&&(t={}),e)o=e[r],1===(n=u[r])?t[r]=o:0===n?(o.dom=[],t[r]=s(o)):void 0===n&&(5===(n=I(o))?(t[r]={},b(o,t[r])):4===n?t[r]=s(o):0!==n&&(t[r]=o));return t}function y(e,t,n){var o,r,i,a=e.attr,l=e.name,s=e.txt,d=e.index,f=e.children||[],c=0,u="#text"!==l?h.createElement(l):h.createTextNode("");for(n&&n.appendChild(u),void 0!==s&&(u.textContent=s),-1<d&&(t[d]=u),c=0,o=a.length;c<o;)r=a[c],u.setAttribute(r.name,r.value),c++;for(c=0,o=f.length;c<o;)i=f[c],y(i,t,u),c++;return u}function d(){return(new Date).getTime()-e}var i,a,A=Object.defineProperty,h=document,m=h.body,f=null,x={">":2,"<":3,">=":4,"<=":5,"==":6,"===":6,"!==":7,"!=":7},T={"e-attr":function(e,t,n,o,r,i,a,l,s){for(var d,f,c,u,p,h,m,_=0,v=e.split(";"),$=v.length,g=(i?a.$_dom:o).dom;_<$;){if(2===(d=v[_].replace("=","0_=_=").split("0_=_=")).length)if(f=d[0],m=d[1],""!==f&&""!==m){if(u=[0],1<(h=m.split("?")).length)if(p=h[0].split(/(\=\=\=|\=\=|\>\=|\<\=|\>|\<)/),h=h[1].split(":"),u[2]=h[0],u[3]=h[1],1===p.length)u[0]=1,c=p[0];else{if(void 0===(h=x[p[1]])){console.error("不能识别的 运算符 =>  "+p),_++;continue}u[0]=h,u[1]=p[2],c=p[0]}else c=m;(p=D(c,n))&&((m=g.indexOf(t))<0&&(g.push(t),m=g.length-1),p.push({type:s||"attr",dom:m,attr:f,data:u}))}else console.error("行内 属性名 或 键名 不能为空 "+d.toString());else console.error(" 错误的 e-attr 属性设置 => "+d.toString());_++}},"e-html":function(e,t,n,o,r,i,a){n=D(e,n);n&&((o=(a=(i?a.$_dom:o).dom).indexOf(t))<0&&(a.push(t),o=a.length-1),n.push({type:"html",dom:o}))},"e-input":function(e,t,n,o,r,i,a){n=D(e,n);n&&((o=(a=(i?a.$_dom:o).dom).indexOf(t))<0&&(a.push(t),o=a.length-1),n.push({type:"input",dom:o}))},"e-change":function(e,t,n,o,r,i,a){n=D(e,n);n&&((o=(a=(i?a.$_dom:o).dom).indexOf(t))<0&&(a.push(t),o=a.length-1),n.push({type:"change",dom:o}))},"e-id":function(e,t,n,o,r,i){i||(r.$_idDoms[e]=t)},"e-event":function(e,a,t,n,l,s,o,d,r,f){var c,u,p,h,m,e=e.split(";");e.length;s&&(u=o.$_e_dom,p=o.$_e_fun),n=s?o.$_dom:n,m=n.dom,e.forEach(function(e){if(2===(c=e.split(/\:|\=/)).length)if((h=m.indexOf(a))<0&&(m.push(a),h=m.length-1),s)u.push(h),p.push(c);else{var t=c[0],n=d[c[1]],o=l,r=o.$_methods;if(void 0===n)return void console.error("未知的 domEvent   =>  "+c[1]);var i=o.$_data;a[t]=function(e){var t={data:i,baseData:_(i,f),methods:r,idDoms:o.$_idDoms,this:this};n.apply(r,[t,e])}}else console.error("错误的 e-event  数据  => "+e)})},txt:function(e,t,n,o,r,i,a){var l,s,d,f,c,u,p=/(\{\{[^{}]+\}\})/,h=i?a.$_dom:o;if(p.test(e))for(d=0,c=(l=e.split(p)).length;d<c;)u=l[d],p.test(u)&&""!==(u=u.replace(/({{|}}|\s)/g,""))&&(f=D(u,n))&&((u=(s=h.dom).indexOf(t))<0&&(s.push(t),h[u=s.length-1]=l),l[d]="",f.push({type:"txt",dom:u,index:u,pos:d}),t.textContent=""),d++}},_=function(e,t){for(var n=0,o=t.length,r=e;n<o;){if(void 0===(r=r[t[n]]))return r;n++}return r},u={$_build:2,$_e_dom:1,$_e_fun:1,$_f_p:1,$_f_c:1,$_parent:2,$_dom:0},p=[],e=0;function v(){var e,t,n,o,r=a.length;if(0<r)for(t=d();r--;)o=!1,0===(e=a[r])[0]?t-e[3]>=e[2]&&(n=e[4].call(e[5]),1===e[1]?e[3]=t:o=!0,(n||o)&&a.splice(r,1)):(e[2]++,e[2]>=e[1]&&(e[2]=0,(n=e[4].call(e[5]))&&a.splice(r,1)));i&&i(v)}e=d(),i=window.requestAnimationFrame||0,a=p,i?i(v):setInterval(v,1e3/60);function $(e){for(var t=1,n=e.length,o=[];t<n;)o.push(e[t]),t++;return o}var g=-1,w={},E={a:[],b:[]};window.Eng=function(e){var t,n=this,o=null,r=!!e.dataOnly;if(!(r=!(n.dataOnly=r))||(o=e.el,1===I(o)&&((a=l(o))||(i=o,(t=h.createElement("div")).innerHTML=i,a=t.children[0]),o=a),o)){n.el=o,e.css&&(g++,n.cId=g,n.css=function(e,t){for(var n,o,r,i,a,l=/\s+/g,s=0,d="",f="",c=0,u="[eng_"+t+"]",p=(n=(e=(e=e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/[\s\S]*(?=\r|\n|$)/g,"")).trim()).replace(l," ").split(/(\{[^{}]*\})/g)).length;s<p;){if(""!==(o=(o=n[s]).trim())){if(1<(i=(r=o.split(l)).length))for(d="",c=0;c<i;)""!==(f=r[c].trim())&&(0<c&&(d+=" "),d+=(a=f.search("::"))<0?f+u:0===a?u+f:f.replace("::",u+"::")),c++;else d=(a=o.search("::"))<0?o+u:(d=o,0===a?u+o:o.replace("::",u+"::"));n[s]=d}s+=2}e=h.createElement("style");return e.innerText=n.join(""),m.appendChild(e),e}(e.css,g));var i=e.methods||{};n.id=e.id,n.watcher={},n.watcherFor=e.watcherFor||{},n.event=e.domEvent||{},t=s(e.data||{}),n.items={$_el:n.el,$_id:n.id,$_data:t,$_idDoms:{},$_methods:i},n.timer=e.timer||{};var a=n.items;i.$_el=n.el,i.$_idDoms=a.$_idDoms,i.$_data=a.$_data,i.$_id=a.$_id,i.$_state="sleep",n.sleep=!1,n.items.$_data=t,n.data=t,n.extraInit(),i.onInit&&i.onInit.apply(i,$(arguments)),r&&n.domInit(o),n.forInit(),n.setInit(),n.wcInit(null,e.watcher),n.dataInit(t);a=e.parent;r&&a&&(a=1===I(a)?l(a):a).appendChild(n.el),i.onCreated&&i.onCreated(),n.sleep||n.onAwake();i={state:n.sleep?"sleep":"active",self:n,el:o,methods:i,data:t,id:n.id};return void 0!==n.id&&(w[n.id]=i),E.a.push(t),E.b.push(i),t}console.error(" el  error    =>   "+e.el)},Eng.prototype.setInit=function(){var i=this,e=i.items.$_methods,o=e.$_data,a=i.watcher;i.setNewData=function(e){var t,n;for(t in o)n=o[t],4===I(n)&&(o[t]=[]);for(t in e)o[t]=e[t];i.reSetData(o)},i.setDataBind=function(){A(e,"$_data",{enumerable:!1,set:function(e){e=s(e),i.setNewData(e)},get:function(){return o}})},i.setDataBind(),i.addWatcher=function(e,t){i.wcInit(e,t)},i.wcInit=function(e,t){var n,o,r;if(t)for(n in t)r=null!==e?e+"."+n:n,(o=t[n])instanceof Function?a[r]=o:i.wcInit(r,o)}},Eng.prototype.domInit=function(e){var g,D=this,i={},b={dom:[]},y={},a={},x={SCRIPT:1,STYLE:1,HEAD:1},w=["e-id","e-attr","e-style","e-event","e-input","e-change","e-html"];D.loopDom=function(e,t,n,o,r){if(e)for(var i,a,l,s,d,f,c=e.length?e:[e],u=c.length;u--;)l=!1,(i=(d=c[u]).childNodes)&&0<i.length&&(l=!0),(f=D.attrAnalysis(d,t,l,n,o,r))!==g&&(a=f[0],s=f[1],d=f[2],f=f[3],l&&D.loopDom(i,a,s,d,f))},D.getNowTree=function(e,t,n,o){for(var r,i,a=e.split(/\./),l=0,s=a.length,d=t,f={$_parent:!0,$_p:!0,$_P:!0};l<s;)f[i=a[l]]?(d=r=(r=d.$_parent)||d,n.pop()):(d[i]=r={$_parent:d},d=r,n.push(i)),l++;return o&&delete r.$_parent[i],[r,i]},D.attrAnalysis=function(e,t,n,o,r,i){var a,l,s,d,f,c,u,p=e.attributes,h=0,m=w.length,_=!0,v=!1,$=e.nodeName;if(!x[$]){if("#comment"===$)return C(e),[t,o,r,i,v];if(p){if(D.cId!==g&&e.setAttribute("eng_"+D.cId,""),(l=p[a="e-stop"])!==g)return void e.removeAttribute(l.name);for((l=p[a="e-for"])!==g&&(e.removeAttribute(l.name),""!==(l=l.value.replace(/\s/g,""))&&((s=(c=D.getNowTree(l,t,i=[],o))[0]).$_build=e,s.$_f_id=c[1],s.$_dom={dom:[]},s.$_e_dom=[],s.$_e_fun=[],f=e.parentNode,o?(s.$_parent=null,s.$_f_p=r.$_f_id,(d=r.$_dom.dom.indexOf(f))<0&&(r.$_dom.dom.push(f),d=r.$_dom.dom.length-1),r.$_c_id=c[1],r.$_f_c=d):s.$_f_p=f,C(e),r=t=y[c[1]]=s,v=!(_=!(o=!0)))),_&&(l=p[a="e-base"])!==g&&(e.removeAttribute(l.name),""!==(l=l.value.replace(/\s/g,""))&&(i=i.slice(),t=D.getNowTree(l,t,i)[0]));h<m;){if((l=p[a=w[h]])!==(u=g)&&(e.removeAttribute(l.name),""!==(l=l.value.replace(/\s/g,""))&&("e-style"===a&&(a="e-attr",u="style"),T[a](l,e,t,b,D.items,o,r,D.event,u,i),"e-html"===a)))return;h++}}return n||((l=(l=e.textContent)!==g?l.trim():l)!==g&&""!==l&&T.txt(l,e,t,b,D.items,o,r),"#text"===$&&""===l&&C(e)),[t,o,r,i,v]}},D.structFor=function(){var e,t,n,o=y,r=a;for(e in o)(n=(n=(t=o[e]).$_parent)===g?i:n)&&(n[e]=[]),c(t.$_build,t.$_dom.dom,t={}),r[e]=t},D.loopDom(e,i,!1,null,[]),D.structFor(),D.tree=i,D.domIndex=b,D.cloneTree=y,D.buildTree=a},Eng.prototype.dataInit=function(e){var D=this,l=D.tree,i=D.domIndex,b=D.watcher,t=D.items,y=t.$_methods,x={data:t.$_data,el:t.$_el,id:t.$_id,idDoms:t.$_idDoms,methods:y},w={1:!0,3:!0,2:!0,4:!1,5:!1},a=D.dataOnly;D.forData=function(e,t,n,o,r,i){var a,l,s,d,f,c,u=!1,p=o;for(a in e){if(o=p,f=r.slice(0),n){if((a=+a)!=a)continue;f.push(a)}l=e[a],s=I(l),(d=t.slice(0)).push(a),c=w[s],D.bindKey(a,e,s,d,f,o,i,!(!n||!c)),4===s&&(o=u=!0,D.forBuild(a,0,l.length,d,f,2,l)),!1===c&&(D.forData(l,d,u,o,f,i),5===s&&o&&(delete l[a="$_index"],l[a]=f[f.length-1],(d=d.slice(0)).push(a),D.bindKey(a,l,3,d,f.slice(0),o,i,!1))),u=!1}},D.dataClear=function(e,t){var n,o,r,i,a,l;for(n in t===l&&(t={}),e)o=e[n],r=t!==l?t[n]:l,5===(i=I(o))?D.dataClear(o,r):4===i&&(r===l&&(r=[],t[n]=[],a=0),(i=o.length)!==(a=r.length)&&a<i&&o.splice(a),o.clear(),D.dataClear(o,r))},D.bindKey=function(n,o,r,i,a,l,e,t){var s,d,f,c,u,p,h,m,_,v=o[n],$=i.join("."),g=b[$];if(!e&&g&&(delete b[$],(u=g.apply(y,[_,v,x]))!==_&&(v=u,o[n]=u)),d=D.pathDest(i,l),f=d[0],c=d[1],s=w[r],f===_&&(p=!(s=!1)),s)if(!1===t)D.valueToDom(f,v,c,n,o);else if(f.$_index&&D.valueToDom(f.$_index,n,c,n,o),f.$_value&&D.valueToDom(f.$_value,v,c,n,o),e)return;4===r&&(m=function(e,t){D.specialBuild(n,v,i,a,e,t),D.forData(v,i,!0,!0,a,!1)},v=k(v),(o[n]=v).zdy(m));e=!/^\$\_/.test(n);"$_index"===n&&(h=!0),A(o,n,{enumerable:e,set:function(e){if(h)return v;var t;b[$]!==_?(g=b[$],delete b[$],(u=g.apply(y,[v,e,x]))!==_&&(e=u)):g!==_&&(u=g.apply(y,[v,e,x]))!==_&&(e=u),!0!==p?(t=I(e),s&&v!==e&&w[t]?(v=e,D.valueToDom(f,v,c,n,o)):s||r!==t||(5==r?(v=e,D.forData(v,i,!1,l,a,!1)):((v=k(e)).zdy(m),D.forBuild(n,0,v.length,i,a,2,v),D.forData(v,i,!0,!0,a,!1)))):v=e},get:function(){return v}})},D.pathDest=function(e,t){if(a)return[];if(t)return this.pathDest2(e);for(var n=0,o=e.length,r=l;n<o;){if(void 0===(r=r[e[n]]))return[];n++}return[r,i]},D.pathDest2=function(e){for(var t,n,o,r=0,i=e.length,a=l;r<i;){if(t=e[r],a.$_f_id&&(n=a),void 0===(a=a[t])){if(!n||!n.$_children)return[];a=n.$_children}else a.$_dom&&(o=a.$_dom);r++}return[a,o]},D.valueToDom=function(e,t,n,o,r){for(var i,a=0,l=e.length;a<l;){switch((i=e[a]).type){case"txt":D.txtDom(i,t,n);break;case"attr":D.attrDom(i,t,n);break;case"change":D.changeDom(i,t,n,o,r);break;case"input":D.inputDom(i,t,n,o,r);break;case"html":D.htmlDom(i,t,n);break;case"style":D.attrDom(i,t,n,!0)}a++}},D.changeDom=function(e,t,n,o,r){e=n.dom[e.dom];void 0!==e?(e.value=t,e.onchange||(e.onchange=function(){r[o]=this.value,this.value=r[o]})):console.error("不存在的 dom 节点")},D.inputDom=function(e,t,n,o,r){e=n.dom[e.dom];void 0!==e?(e.value=t,e.oninput||(e.oninput=function(){r[o]=this.value,this.value=r[o]})):console.error("不存在的 dom 节点")},D.htmlDom=function(e,t,n){e=n.dom[e.dom];void 0!==e?e.innerHTML=t:console.error("不存在的 dom 节点")},D.txtDom=function(e,t,n){var o=n.dom[e.dom];void 0!==o?((n=n[e.index])[e.pos]=t,o.textContent=n.join("")):console.error("不存在的 dom 节点")},D.attrDom=function(e,t,n,o){var r,i,e=e,a=t,t=n.dom[e.dom];if(void 0!==t){switch(n=e.attr,e=(r=e.data)[0]){case 0:i=a;break;case 1:i=a?r[2]:r[3];break;case 2:i=a>r[1]?r[2]:r[3];break;case 3:i=a<r[1]?r[2]:r[3];break;case 4:i=a>=r[1]?r[2]:r[3];break;case 5:i=a<=r[1]?r[2]:r[3];break;case 6:i=a==r[1]?r[2]:r[3];break;case 7:i=a!=r[1]?r[2]:r[3]}!0!==o?"class"===n?(o=(o=t.className.replace(/\s\s/g," ")).replace(i,""),r[4]&&(o=o.replace(r[4],"")),0<e&&(e=i===r[2]?r[3]:r[2],o=o.replace(e,"")),t.setAttribute(n,o+" "+i),r[4]=i):void 0!==t[n]?t[n]=i:t.setAttribute(n,i):t.style[n]=i}else console.error("不存在的 dom 节点")},D.reSetData=function(e){D.forData(e,[],!1,!1,[])},D.forData(e,[],!1,!1,[])},Eng.prototype.forInit=function(){var v=this,s=v.tree,h=v.cloneTree,n=v.buildTree,m=v.watcherFor,_=v.items,$=_.$_methods,p=v.dataOnly;p&&(s={},h={});var g={};v.specialBuild=function(e,t,n,o,r,i){var a,l,s;if(p||void 0===h[e])v.forChange(t,t,o,e,n,!0);else{var d=v.getTreeRq(e,n,o);switch(r){case"push":a=i.length,v.forBuild(e,l,a,n,o,0,t);break;case"unshift":a=i.length,v.forBuild(e,0,a,n,o,1,t);break;case"pop":a=t.length,v.delFor(a-1,1,d),v.forChange(d[0],t,o,e,n);break;case"shift":v.delFor(0,1,d),v.forChange(d[0],t,o,e,n);break;case"sort":s=t.length,v.forBuild(e,0,s,n,o,2,t);break;case"reverse":v.forChange(d[0],t,o,e,n);break;case"splice":s=t.length,v.forBuild(e,0,s,n,o,2,t);break;case"concat":l=i[0],s=i[1],v.forBuild(e,l,s-l,n,o,0,t)}}},v.forBuild=function(e,t,n,o,r,i,a){var l,s;if(g[e]||(g[e]=o),p||void 0===h[e])v.forChange(a,a,r,e,o,!0);else{var d=v.getTreeRq(e,o,r);if(void 0!==d){var f=v.getReleated(e,r),c=f[0],u=f[1],f=d[0].length;if(0===i)for(s=(l=f)+n;l<s;)v.buildDom(c,u,l,d,0,e),l++;else if(1===i)for(s=n;s--;)v.buildDom(c,u,s,d,1,e);else if(2===i)if((s=n)<f)v.delFor(s,null,d);else if(f<s)for(s-=f;s--;)v.buildDom(c,u,s,d,0,e);v.forChange(d[0],a,r,e,o)}}},v.forChange=function(e,t,n,o,r,i){for(var a,l,s,d=this,f=0,c=e.length,u=r.join("."),p=m[o];f<c;)a=e[f],(s={}).forData=t[f],s.forDataAll=t,s.forDom=a.$_forDom,s.data=_.$_data,s.index=f,(l=n.slice(0)).push(f),s.pos=l,void 0===i&&(a.$_items=s),void 0!==p&&(s.addWatcher=function(e){var t=u+"."+f+".";d.addWatcher(t,e)},s.parent=function(e){var t=l;return d.getPdata(t,o,e=(e=e<<0||1)<1?1:e)},p.apply($,[s,$])),f++},v.getPdata=function(e,t,n){var o,r,i,a,l=[],s=h,d=g,f=e.length,c=v.data,u=0,p=0;if(0!==(a=(e=e.slice(0,f-n)).length)){for(;;){if(!(r=s[t]))break;if(l.push(d[t]),r=r.$_f_p,1!==I(r))break;t=r}for(f=l.length;f--&&p<a;){for(i=(o=l[f]).length;u<i;){if(void 0===(c=c[o[u]]))return;u++}if(u++,void 0===(c=c[e[p]]))return;p++}return c}},v.getTreeRq=function(e,t,n){for(var o,r,i=0,a=t.length,l=s,n=n.length;i<a;){if(o=t[i],l.$_f_id&&(r=l),void 0===(l=l[o])){if(!r.$_children)return void console.error("不存在的子循环 数据结构 ~~~~~");l=r.$_children}i++}return[l,r,0<n?r.$_f_c:h[e].$_f_p]},v.delFor=function(e,t,n){for(var o,r=n[0],i=0,a=(r=null!==t?r.splice(e,t):r.splice(e)).length;i<a;)o=r[i],C(o.$_forDom),i++},v.getReleated=function(e){var t=n[e];return[h[e],t]},v.buildDom=function(e,t,n,o,r,i){var a,l,s,d,f,c,u,p=o[0],h=o[2],m=b(e),_=m.$_dom.dom,e=y(t,_),t=m.$_f_c;void 0!==t&&(m.$_f_c=_[t],m.$_children=[]),a=m,l=_,s=v.event,d=v.items,f=i,c=v,i=a.$_e_dom,u=a.$_e_fun,i.forEach(function(e,t){var o,r,i=d,n=l[e];if(n){if(t=(e=u[t])[0],o=s[e[1]],r=i.$_methods,void 0===o)return void console.error("未知的 domEvent   =>  "+e[1]);n[t]=function(e){var n=a.$_items,t={data:i.$_data,forData:n.forData,forDataAll:n.forDataAll,index:n.index,pos:n.pos,idDoms:i.$_idDoms,methods:r,this:this,parent:function(e){var t=n.pos;return c.getPdata(t,f,e=(e=e<<0||1)<1?1:e)}};o.apply(r,[t,e])}}}),m.$_forDom=e,m.$_parent=o[1],p.push(m),h.appendChild(e)}},Eng.newJson=s,Eng.prototype.extraInit=function(){var i=this,r=i.timer,a=i.items.$_methods,l=[],s=null;i.timerInit=function(){var e,t,n,o=r;for(e in o){if(n=[],"time"===(t=o[e]).type)n[0]=0,n[1]=t.loop?1:0,n[2]=t.time||0,n[3]=d();else{if("fps"!==t.type)return;n[0]=1,n[1]=t.fps||1,n[2]=0}n[4]=a[e],n[5]=a,n[4]instanceof Function?l.push(n):console.error(e+"    不是有效的 timer Function ")}},i.onAwake=function(e,t){if("active"!==a.$_state){0===l.length&&i.timerInit();for(var n,o=l.length;o--;)0===(n=l[o])[0]?n[3]=d():n[2]=0,p.push(l[o]);i.css&&m.appendChild(i.css)}e?e.appendChild(i.el):null!==s&&null===i.el.parentNode&&s.appendChild(i.el),i.sleep=!1,a.$_state="active",a.onAwake&&a.onAwake.apply(a,t)},i.onSleep=function(e){i.timeClear(),s=i.el.parentNode,C(i.el),i.css&&C(i.css),i.sleep=!0,a.$_state="sleep",a.onSleep&&a.onSleep.apply(a,e)},i.timeClear=function(){for(var e,t=l.length,n=p;t--;)e=l[t],-1<(e=n.indexOf(e))&&n.splice(e,1)},i.destroy=function(e){i.timeClear(),a.onDestroy&&a.onDestroy.apply(a,e);var t,n,o=i.id,r=i.data,e=E;for(t in C(i.el),i.css&&C(i.css),void 0!==o&&delete w[o],-1<(r=e.a.indexOf(r))&&(e.a.splice(r,1),e.b.splice(r,1)),n=i.data,i)i[t]=null;for(t in n)delete n[t];for(t in n=a)n[t]=null,delete n[t];n.$_state="die"},a.$_sleep=i.onSleep,a.$_awake=i.onAwake,a.$_destroy=i.destroy},Eng.get=function(e){var t=w[e];return t||-1<(e=E.a.indexOf(e))&&(t=E.b[e]),t?{data:t.data,state:t.state,el:t.el,sleep:function(){t.self.onSleep(arguments)},awake:function(e){e&&"string"==typeof e&&(e=l(e)),t.self.onAwake(e,$(arguments))},destroy:function(){for(var e in t.self.destroy(arguments),this)this[e]=null,delete this[e];this.state="die"},methods:t.methods,setData:function(e){t.methods.$_data=e},id:t.methods.$_id}:null}}();