/* version:0.8.1.beta.min
 * date:2017-8
 * https://github.com/343830384/Eng
 */
(function(){var Z=function(x){var t=typeof(x),k;if(t=="string"){return 0}if(t=="boolean"){return 1}if(t=="number"){return 2}if(x instanceof Array){return 3}if(t=="object"){for(k in x){return 4}}return false};var Y=function(o,d,j,c,f){var n=o.childNodes,L=n.length,i,e,p,i=0,a,b=c.n;if(f){e=o.getAttribute("e-for");if(e){e=e.trim();e?(c.n++,j[e]={a:c.n,b:-1},a=j[e],d.push([e,a,o]),j=j[e],b=0):null}}while(i<L){if(n[i].nodeType==1){e=n[i].getAttribute("e-for"),p=1;if(e){e=e.trim();e?(c.n++,j[e]={a:c.n,b:b},a=j[e],d.push([e,a,n[i]]),Y(n[i],d,a,c),p=0):null}p?Y(n[i],d,j,c):null}i++}};var X=function(o,a){var L=a.length;while(L--){if(o==a[L]){break}}return L};var W=function(b,s,e){var a=[],L=b.length,i=0;e?null:e=L;while(s<e){a[i]=b[s],s++,i++}return a};var V=function(d,a,c){var L=d.length,i=0,s="",b=".";c!=undefined?L=c:null;while(i<L){if(i==L-1){b=""}a?s+=d[i]:s+=(d[i]+b),i++}return s};var U={"$_a":1,"$_b":1,"$_c":1,"$_d":1,"$_e":1,"$_f":1,"$_g":1,"$_h":1,"$_i":1};var T=function(a,b,c){var k,v;for(k in b){v=b[k],v instanceof Array?(a[k]=[],S(a[k],v,c)):(U[k]?null:(a[k]={},T(a[k],v,c)))}};var S=function(a,b,c){var L=b.length,k,v;while(L--){v=b[L],a[L]={},a[L].$_a=v.$_a,a[L].$_b=v.$_b,a[L].$_d=c[v.$_c],a[L].$_h=c[v.$_i],a[L].$_e=c[v.$_g],a[L].$_f=v.$_f;for(k in v){if(!U[k]){a[k]={},T(a[k],v,c)}}}};var R=function(a,b){var L,d=b.length,i,e,f,g=[],c;while(d--){L=b[d].length,i=0,e=0;while(i<L){if(a[i]==b[d][i]){e++}else{break}i++}g[d]=e}L=g.length,e=-1,i=0;while(L--){g[L]?(g[L]>i?(i=g[L],e=L):null):null}if(e==-1){return}b=W(a,g[e]-1),i=0,L=b.length,g=[],f=-1;while(i<L){c=b[i];if(c){b[i+1]!=undefined?g.push(b[i+1]):null,f++}else{break}i+=2}if(f!=-1){return{n:f,b:e,c:g}}};var Q=function(a){if(!a){return}var L=a.length,b=[],c;if(L){while(L--){c=a[L].name;if(!N.c.test(c)){b.push([a[L].name,a[L].value])}}return b}else{return null}};var P=function(a,b,c){var d,e,f,g,L,i=0,h=0;b?null:(b={},c=[]),e=a.nodeName,b.a={},b.a.a=e,b.a.b=Q(a.attributes),c.push(a),d=a.childNodes;if(d){L=d.length}else{return}b.c=[];while(i<L){f=d[i].nodeType,f===1?(b.c[h]={},P(d[i],b.c[h],c),h++):null,f===3?(g=d[i].textContent.trim(),g?(g=g.replace(N.e,""),b.c[h]=g,h++,c.push(d[i])):null):null,i++}return[b,c]};var O=function(a,b,c,d){var e,f,g=a.c,h,j,k,i,L;e=a.a.a,h=document.createElement(e),f=a.a.b;if(f){L=f.length;while(L--){h.setAttribute(f[L][0],f[L][1])}}d?b.appendChild(h):c=[],c.push(h);if(!g){return}L=g.length,i=0;while(i<L){j=g[i];if(Z(j)==0){k=document.createTextNode(j),c.push(k),h.appendChild(k)}else{O(j,h,c,1)}i++}return[h,c]};var N={a:/(\{\{[^{}]+\}\})/,b:/({{|}})/g,c:/^(e\-)/,d:/(\>\=|\<\=|\>|\<|\=\=\=|\=\=|\=)/,e:/(\{\{[^{}]+\}\})/g,};var M=function(s){var a=[],L=s.length,i=0,c,t="",f=1,k,g,o,b;while(i<L){c=s[i];if(f&&c=="="){a.push(t),a.push(c),t="",f=0,k=1,i++;continue}if(k&&c=="?"){t=t.split(N.d),o=t.length,b=0;while(b<o){a.push(t[b]),b++}t="",k=0,a.push(c),g=1,i++,o=i;continue}if(g&&c==")"&&s[i+1]==":"){a.push(s.slice(o+1,i)),a.push(":"),a.push(s.slice(i+3,-1));break}t+=c,i++;if(i==L){a.push(t)}}return a};var L={"=":0,"==":0,"===":0,">=":1,"<=":2,">":3,"<":4,};var K=function(s){var v=L[s];return v};var J=function(a){var b=M(a),L=b.length,i=0,c=[];if(L>2){L=b.length,c.push(b[2].replace(N.b,"").trim());if(L==9){c.push(K(b[3]))}while(i<L){i%2||i==2?null:c.push(b[i].trim()),i++}return c}return};var I=function(a){var c=[],v,b=a.split(";"),L=b.length;while(L--){v=J(b[L]);if(v){c.push(v)}}if(c.length){return c}return};var H=function(a,b,c){var d=a.getAttribute("e-attr"),L;if(d){d=d.trim(),a.removeAttribute("e-attr");if(d){d=I(d);if(d){L=d.length;while(L--){if(!b[d[L][0]]){b[d[L][0]]=[]}b[d[L][0]].push({$_e:a,$_g:c?X(a,c):null,$_f:W(d[L],0)})}}}}return};var F=function(a,b,c){var e=a.getAttribute("e-html"),d;if(e){d=e.trim(),a.removeAttribute("e-html");if(d){if(!b[d]){b[d]=[]}b[d].push({$_h:a,$_i:c?X(a,c):null,});return false}}return true};var E=function(s){var o=document.createDocumentFragment();var d=document.createElement("div");d.innerHTML=s.trim();var c=d.childNodes,L=c.length,i=0;while(i<L){o.appendChild(c[0]);i++}return o};var G=function(o,a){var i,c;if(o){i=o.length;while(i--){c=a[o[i][0]].d,G(c,a);delete a[o[i][0]]}}};Eng=function(b){var t=this,a,c;t.r=true,t.s=-1,t.t={},t.u=[],t.v=[],t.w=[],t.x={0:1,2:1,1:1},t.y=[[]],t.z=b.data?b.data:{},t.a();t.A={$_data:t.z,$_setToSelf:t.C,$_setToGlobal:t.D,$_watcher:t.E,$_watcherFor:t.F},t.B={};if(b.el){c=Z(b.el),c?(t.d(b.el,0)):(c=E(b.el),t.A.$_el=c,t.d(c,t.t))}if(b.watcher){t.b(b.watcher)}if(b.watcherFor){t.c(b.watcherFor)}a=[],t.h(t.z,a,1),a=null;if(b.created){b.created(t.A)}return t.z};Eng.prototype.a=function(){var a=this;a.C=function(b,c){var j={},d=Z(c)==0?E(c):c;a.d(d,j,true);a.h(b,[],0,j,b);j=null;return d};a.D=function(v){var j=a.t,f=true,d=a.z,t=Z(v.el),r,b,i,L;v.base?b=v.base.trim():b="";if(t==0){v.el=E(v.el)}if(b){i=0,r=b.split("."),L=r.length;while(i<L){j=j[r[i]],d=d[r[i]],i++}t=Z(v.value);if(!a.x[t]){j[v.key]={},j=j[v.key],b+="."+v.key}r.push(v.key)}else{r=[v.key],b=v.key,j[v.key]={},j=j[v.key]}d[v.key]=v.data,a.d(v.el,j,true,b),a.k(d,v.key,W(r,0),b,4),a.h(d[v.key],r,2),j=null,d=null;return v.el};a.E=function(o){a.b(o)};a.F=function(o){a.c(o)}};Eng.prototype.b=function(c){var a,v,d=this;d.G?null:d.G={};for(a in c){v=c[a];if(v){d.G[a.trim()]=v}}};Eng.prototype.c=function(c){var a,v,d=this;d.H?null:d.H={};for(a in c){v=c[a];if(v){d.H[a.trim()]=v}else{delete d.H[a.trim()]}}};Eng.prototype.d=function(a,b,c,d){var e=a.childNodes,f,v,n,i=0,g,h,j,k,m,o,t=this;var L=e.length;!b?(b=t.f(a,t.t,"",d),c=b[1],b=b[0]):null;if(!L){return}f=b;while(i<L){e[i]?n=e[i].nodeType:n=-1;if(n==3){v=e[i].nodeValue.trim();g=v.split(N.e);j=g.length;if(j>1){k=0,m=[],o=[];while(k<j){if(N.e.test(g[k])){m.push(k);h=g[k].replace(N.b,"");g[k]=h,o.push(h)}k++}j=o.length,k=0;while(k<j){if(!b[o[k]]){b[o[k]]=[]}b[o[k]].push({$_d:!t.I?e[i]:null,$_c:t.I?X(e[i],t.J):null,$_a:m,$_b:g});k++}}}else{if(n==1){b=t.f(e[i],f,c,d);t.r?t.d(e[i],b[0],b[1],d):null}}i++}};Eng.prototype.f=function(a,b,c,d){var e,f=1,L,i,g=1,z=this;z.r=1;e=a.getAttribute("e-base");if(e){e=e.trim(),a.removeAttribute("e-base");if(e){c?(c+="."+e):c+=e,b[e]={},b=b[e],f=0}}if(!d){e=a.getAttribute("e-for");if(e&&f){e=e.trim();if(e){z.I=1;g=0;z.s++;z.y[z.s]=[];z.w[z.s]=[];if(c){z.y[z.s]=c.split(".")}var h={},j=[],k={n:-1},forData=Y(a,j,h,k,1);L=j.length,i=0;var m,n,o,p,q,r,s,t,u,v=z.y[z.s],w,x;while(i<L){k={},t=[],u=[],r=i,s=0,m=j[i][1],n=j[i][0],q=j[i][2],o=m.a,p=m.b;if(i==0){m.c=q.parentNode,m.c.removeChild(q)}r++;while(r<L){j[r][1].b==o?(j[r][1].d=s,s++,u.push(r)):null,r++}r=s;while(r--){x=j[u[r]][2].parentNode,x.removeChild(j[u[r]][2]),t.push(x)}w=P(q),z.J=w[1],H(q,k,z.J),z.r=F(q,k,z.J);if(z.r){z.d(q,k,z.J)}s?m.e=[]:null;while(s--){m.e.push(X(t[s],z.J))}m.f=w[0],m.g=k,v.push(n);i++}z.B[z.s]={},k=null,t=null,u=null,z.u[z.s]=h,h=null,z.v[z.s]=j,j=null,z.I=0}}z.I?(H(a,b,z.J),z.r=F(a,b,z.J)):(H(a,b),z.r=F(a,b))}else{H(a,b);z.r=F(a,b)}e=a.getAttribute("e-id");if(e&&g&&!z.I){e=e.trim(),a.removeAttribute("e-id");if(e){z.A[e]=a}}return[b,c]};Eng.prototype.g=function(a){var t=this,b=R(a,t.y);if(!b){return}var c=t.t,g=t.z,i=0,L=a.length,d,e,f=L-1;L==1?d=c:null;while(i<L){c[a[i]]?c=c[a[i]]:(c[a[i]]={},c=c[a[i]]),g=g[a[i]],i==L-2?d=c:null,i++}L=g.length;if(Z(L)!=2){return}var h,j,k,m,n,o,p,q,r;h=b.n,j=b.b;if(t.y[j].indexOf(a[a.length-1])==-1){return}n=b.c,m=t.v[j][h][1],o=m.g,p=m.f,q=m.e,k=m.d;if(h){L=h;while(L--){r=t.w[j][L];if(r){n[L]=r.indexOf(Number(n[L]))}}}var s=t.y[j][h],u,v,w,x,y="$_"+j+h+s+V(n,1);if(t.H&&t.H[s]){v=t.H[s],i=0,u={},w=[],L=g.length;while(i<L){u={$_allow:true,$_data:g[i]},v(u),u.$_allow?w.push(i):null,i++}}t.w[j][h]=w;if(!t.B[j][y]){t.B[j][y]={a:[],b:[],c:[]}}x=t.B[j][y].a,v=t.B[j][y].b,u=t.B[j][y].c,r=t.B[j][y].d;if(r){L=r.length;w?(i=w.length):i=g.length;while(i<L){if(w){G(t.B[j][r[i][0]].d,t.B[j]);delete t.B[j][r[i][0]]}else{delete t.B[j][r[i][0]]}i++}}t.B[j][y].d=[];d[a[f]]={},c=d[a[f]];if(h){i=n.length,b="$_"+j+(h-1)+t.y[j][h-1]+V(n,1,i-1),s=t.B[j][b].c[n[i-1]][k],t.B[j][b].d.push([y,k])}else{s=m.c}var A=q?q.length:0,B,C,D,E,F=1;i=0,L=w?w.length:g.length,e=v.length,L>=e?i=e:null,e>=L?(F=0,i=L,L=e):null;while(i<L){if(F){C=O(p),v.push(C[0]);if(A){B=A,E=[];while(B--){E.push(C[1][q[B]])}u.push(E)}D={},T(D,o,C[1]),x.push(D),s.appendChild(C[0])}else{x.pop(),s.removeChild(v.pop()),u.pop()}i++}if(w){L=w.length;while(L--){c[w[L]]=x[L]}}else{L=x.length;while(L--){c[L]=x[L]}}return w};Eng.prototype.h=function(a,b,c,d,e,f,g,h,j){var t=Z(a),k,v,l=b,s,m,i=0,n=-1,o,p=h,q=j;for(k in a){v=a[k],m=null,o=0;if(f&&k!=f[i]){continue}if(g){n++,p=n,q=f?f[i]:i}if(c){t=Z(v)}b=W(l,0),b.push(k),s=V(b);if(t==3&&c){m=this.g(b),o=1}c?this.k(a,k,W(b,0),s,t,p,q):this.l(b,d,e);this.x[t]?null:this.h(v,b,c,d,e,m,o,p,q);i++}l=null,b=null};Eng.prototype.i=function(a,b){var c,d,e;for(c in a){d=a[c],e=Z(d),b&&b[c]?a[c]=b[c]:(e==4?this.i(d):a[c]="")}};Eng.prototype.j=function(a){var b,c,d;for(b in a){c=a[b],d=Z(c),d==4||d==3?this.j(c):a[b]="";delete a[b]}};Eng.prototype.k=function(a,b,c,e,f,y,z){var v=a[b],t=this,g=f,h,i,j,d=t.A;if(t.G&&t.G[e]){i=t.G[e];delete t.G[e];d.$_value=undefined,d.$_destroy=0,i(undefined,v,d),d.$_value==undefined?null:v=d.$_value,d.$_destroy?i=0:null}Object.defineProperty(a,b,{enumerable:true,configurable:true,set:function(s){if(t.G&&t.G[e]){i=t.G[e];delete t.G[e]}if(v!=s){g=Z(s);if(f==4){t.i(v,s),t.h(v,c,1)}else{if(f==3){h=W(c,0),t.j(v),v=s,j=t.g(h),t.h(v,h,1,0,0,j,1)}else{if(i){d.$_value=undefined,d.$_destroy=0,i(v,s,d),d.$_value==undefined?null:s=d.$_value,d.$_destroy?i=0:null}t.x[g]?(v=s,t.l(c,0,0,y,z)):null}}}},get:function(){return v}});t.x[g]?t.l(c,0,0,y,z):null};Eng.prototype.l=function(a,b,c,d,e){var f=this.m(a,b,c,d,e);if(f){this.n(f,a,c)}};Eng.prototype.m=function(b,c,e,f,g){if(!b){return}var t=this,L=b.length,i=0,d,a,h=c?c:t.t;while(i<L){if(!(h&&b)){return false}h=h[b[i]];if(i==L-2){d=h}i++}if(h&&(h.$_index||h.$_value)){d=h}if(d){t.K=f,t.L=g,a=W(b,0);if(d.$_index){a[L-1]="$_index",t.n(d.$_index,a,e)}if(d.$_value){a[L-1]="$_value",t.n(d.$_value,a,e)}}return h};Eng.prototype.n=function(a,b,c){var L=a.length,d;while(L--){d=a[L];if(d.$_d){d.$_d.textContent=this.p(b,d.$_a,d.$_b,c)}if(d.$_e){this.o(d.$_e,b,d.$_f,c)}if(d.$_h){d.$_h.innerHTML=this.q(b,b[b.length-1],c)}}};Eng.prototype.o=function(a,b,d,e){var v=this.q(b,d[0],e),f=d[1],g,c,h,L=d.length,i;switch(L){case 2:i=1,c=v;break;case 4:v?i=1:null,c=d[2],h=d[3];break;case 6:f=d[2],g=d[1],g==0?(v==d[3]?i=1:null):null,g==1?(v>=d[3]?i=1:null):null,g==2?(v<=d[3]?i=1:null):null,g==3?(v>d[3]?i=1:null):null,g==4?(v<d[3]?i=1:null):null,c=d[4],h=d[5];break;default:return}f?f=f.toLowerCase():null;if(L>2&&(f=="class"||f=="style")){v=a.getAttribute(f),v?v=v.trim():null,v?(v=v.replace(';'+(i?h:c),'').trim()):null,v?(v=v+';'+(i?c:h)):(v=(i?c:h)),a.setAttribute(f,v)}else{a.setAttribute(f,i?c:h)}};Eng.prototype.p=function(a,b,c,d){var L=b.length,e,v,f=W(c,0);while(L--){e=c[b[L]],v=this.q(a,e,d),f[b[L]]=v}return V(f,1)};Eng.prototype.q=function(a,v,b){var t=this,a=a,L=a.length,i=0,d,c=b?b:t.z;if(v=="$_index"){return t.K}while(i<L){i!=L-1?c=c[a[i]]:c=c[v];if(c==undefined){break}if(i==L-2){d=c}i++}if(v=="$_value"){return d[t.L]}c==undefined?c="":null;return c}}());